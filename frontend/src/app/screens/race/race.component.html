<div id="race"  class="screen" [ngStyle]="{'min-width.px': currRace.distance + 100}">
<h3>{{currRace.name}}</h3>

	<div class="margintop" *ngIf="preRace">
		<div class="props">
			<div class="label">Distance:</div><div class="value">{{currRace.distance/100}} Furlongs</div>
			<div class="label">Entrace fee:</div><div class="value">{{currRace.entranceFee | currency: 'EUR' }}</div>
			<div class="label">Prizes:</div>
					<div class="prizes value" *ngFor="let currPrize of currRace.prizes; index as i" [attr.data-index]="i">
						<div class="prizeValue"> <div class="coinCircle prize{{i+1}}">{{i+1}}</div> &nbsp; {{currPrize | currency: 'EUR'}}</div>
					</div>
			<div class="label horsesLabel">Horses:</div>
				<div class="horsesContainer">
					<span class="participants" *ngFor="let currHorse of horses; index as i" [attr.data-index]="i">
						<div class="playerHorseMarker" *ngIf="currHorse === playerHorse" [style.backgroundColor]="currHorse.color"></div><div class="horseName" [style.color]="currHorse.color">{{i+1}}: {{currHorse.name}}</div>
					</span>
				</div>
		</div>
		<div class="buttonArea"><button  [disabled]="this.currPlayer.money < this.currRace.entranceFee" (click)="startRace()">Start Race</button>
		<span *ngIf="this.currPlayer.money < this.currRace.entranceFee">Not enough money to pay entrance fee.</span>
		</div> 		
	</div>
	<div class="margintop" *ngIf="!preRace">
		Race Time: {{raceTimer | number:'2.1-1'}}
		<div class="raceStadium" [ngStyle]="{'width.px': currRace.distance + 80}" [style.backgroundColor]="currRace.color" >
			
			<div class="silks">
				<span *ngFor="let currHorse of horses; index as i" [attr.data-index]="i">
					<div class="playerHorseMarker" *ngIf="currHorse === playerHorse"  [style.backgroundColor]="currHorse.color"></div> <div class="silkContainer" id="horse{{i+1}}"><div class="silk"  [style.backgroundColor]="currHorse.color"></div></div>
				</span>
			</div>
			<div class="raceTrack">
				<div *ngFor="let currHorse of horses; index as i" [attr.data-index]="i" class="raceLine" [ngStyle]="{'width.px': currRace.distance}">
					&nbsp;{{i+1}}
				</div>
			</div>
		</div> 
		<div class="liveClassification">
			Live Classification:<br />
			<div class="participants" *ngFor="let currHorse of sortedHorses; index as i" [attr.data-index]="i">
				<div class="playerHorseMarker" *ngIf="currHorse === playerHorse"  [style.backgroundColor]="currHorse.color"></div><div class="horseName" [style.color]="currHorse.color">{{i+1}}: {{currHorse.name}}</div>
			</div>
		</div>
		<div *ngIf="raceFinished" class="endRace">
			<div>You finished in place: {{place}}</div>
			<div *ngIf="wonPrize > 0">Congratulations! You won {{wonPrize | currency: 'EUR'}}</div>
			<button (click)="exitRace()">Continue</button>
		</div>
		<div class="clear"></div>
	</div>
</div>
